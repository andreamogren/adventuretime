<!DOCTYPE html>
<html>
	<head>
		<link rel="shortcut icon" type="image/x-icon" href="../compass.png" />
		<link rel="stylesheet" type="text/css" href="categorystyle.css">
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<script type="text/javascript" 
               src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCEdu23sATw9F3n0jzTq37poQMKVLrxTYc"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
		<title>It's time for an adventure!</title>
	</head>
		<body>
			<div id="header">
				<a href="../index.html"> <img id="logo" src="../adventuring.png"> </a>
					<div id="nav">
					    	<a class="navlist" href="nature.html">NATURE</a>
						<a class="navlist" href="city.html">CITY</a>
						<a class="navlist" href="far-away.html">FAR AWAY</a>
						<a class="navlist" href="free.html">FREE</a>
					    	<a class="navlist" href="kids.html">KIDS</a>
						<a class="navlist" href="fun.html">FUN</a>
					</div>
			</div>
			
			<h1> Search here to bring up a random nature themed adventure!</h1>
			
			<div id="input_div">
				<form name="myform" action="" method="GET">Enter your location in the box<br>
				<input id="input_location" type="text" name="inputbox" value=""> <br>
					<input id="button_submit" type="button" name="button" Value="Find my adventure">
			 	</form>

			<div id="form-input"></div>
			</div>

			<div id="title_div">
				<p id="title"></p>
			</div>

			<div id="container">
				<div id="column1">
					<p id="description"></p>
			</div>

			<div id="column2">
					<div id="panel">
					</div>
				</div>

				<div id="column3">
					<div id="map">
					</div>
				</div>
			</div>

				<script type="text/javascript"> 

						document.getElementById('column1').style.visibility = "hidden";
						document.getElementById('column2').style.visibility = "hidden";
						document.getElementById('column3').style.visibility = "hidden";
						document.getElementById('title').style.visibility   = "hidden";

						$(document).ready(function() {
							$('#button_submit').click(function(){

								document.getElementById('column1').style.visibility = "visible";
								document.getElementById('column2').style.visibility = "visible";
								document.getElementById('column3').style.visibility = "visible";
								document.getElementById('title').style.visibility   = "visible";

								var directionsService = new google.maps.DirectionsService();
								var directionsDisplay = new google.maps.DirectionsRenderer();
								var map = new google.maps.Map(
								     document.getElementById('map'), {
									zoom	  : 7,
									mapTypeId : google.maps.MapTypeId.ROADMAP
								     }
								);
								directionsDisplay.setMap(map);
								directionsDisplay.setPanel(document.getElementById('panel'));
								$.get("city_data.json", function(response) {
									var json             = jQuery.parseJSON(JSON.stringify(response));
									var randomJsonObject = json[Math.floor(Math.random() * json.length)];
									document.getElementById('title'      ).innerHTML = randomJsonObject.title;
									document.getElementById('description').innerHTML = randomJsonObject.description;
										   var request = {
											origin		: $('#input_location').val(), 
											destination	: randomJsonObject.location,
											travelMode	: google.maps.DirectionsTravelMode.TRANSIT
										   }
										   directionsService.route(request, function(response, status) {
											if (status == google.maps.DirectionsStatus.OK) {
												directionsDisplay.setDirections(response);
											}
										   });
								 });

								$('#feature').hide();
							});
						});
					</script>


				<div class="description_div">
					<h1>Explore Swedenâ€™s capital </h1>
						<p>Stockholm, a mix of sweet and savoury, forests and city life. 
						Here you can truly have the best of both worlds, experiencing big city life while not having too far to go if you want to explore the woods. 
						There are many stores to shop at, cafes and restaurants to relax in, and of course, adventures! 
						Here are the adventures that we will suggest to you:</p>

						<ul>
							<li><a href="http://www.vespastockholm.com/">Vespa Stockholm</a> Why be boring and take a stroll through the city? Do something new and rent a vespa!
							At Vespa Stockholm you can rent a vespa for exploring Stockholm, and you also get a GPS and a city guide. In other words, you will be a tourist in style.
							How can you say no to that? </li>
							<br>
							<li><a href="http://stockholm.questrooms.com/">Questrooms</a> Ever wanted to know how agent Jack Bauer in 24 felt when working on a case? 
							Now  you can! Well, kind of. At Questrooms, you have to work together to escape the room you're all locked into, but only 50 % of you will escape...
							Sort of like a real life video game, as it says on the site. </li>
						</ul>
				</div>
		</body>
</html>
