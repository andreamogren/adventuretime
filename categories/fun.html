<!DOCTYPE html>
<html>
	<head>
		<link rel="shortcut icon" type="image/x-icon" href="../compass.png" />
		<link rel="stylesheet" type="text/css" href="categorystyle.css">
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<script type="text/javascript" 
               src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAWalfABCn439hb-iMPSiAHIp_QAOL4b-I"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
		<title>It's time for an adventure!</title>
	</head>
		<body>
			<div id="header">
				<a href="../index.html"> <img id="logo" src="../adventuring.png"> </a>
					<div id="nav">
					    	<a class="navlist" href="nature.html">NATURE</a>
						<a class="navlist" href="city.html">CITY</a>
						<a class="navlist" href="far-away.html">FAR AWAY</a>
						<a class="navlist" href="free.html">FREE</a>
					    	<a class="navlist" href="kids.html">KIDS</a>
						<a style="color:grey;" class="navlist" href="fun.html">FUN</a>
					</div>
			</div>
			
			<button id="myButton" class="float-left submit-button" >About us</button>
				<script type="text/javascript">
    				document.getElementById("myButton").onclick = function () {
        			location.href = "https://andreamogren.github.io/adventuretime/about.html";
    					};
					</script>
			
			<h1> Search here to bring up a random fun themed adventure!</h1>	
			
			<div id="input_div">
				<form name="myform" action="" method="GET">Enter your location in the box<br>
					<input id="input_location" type="text" name="inputbox" value=""> <br>
						<input id="button_submit" type="button" name="button" Value="Find my adventure">
				 </form>

				<div id="form-input"></div>
			</div>
			
			<div id="center_button"> 
				<button id="new_adventure" type="button">Find a new adventure</button>
			</div>

			<div id="default_div"></div>

			<div id="title_div">
				<p id="title"></p>
			</div>

			<div id="container">
				<div id="column1">
					<p id="description"></p>
			</div>

			<div id="column2">
					<div id="panel">
					</div>
				</div>

				<div id="column3">
					<div id="map">
					</div>
				</div>
			</div>

					<script type="text/javascript"> 

							document.getElementById('column1').style.visibility = "hidden";
							document.getElementById('column2').style.visibility = "hidden";
							document.getElementById('column3').style.visibility = "hidden";
							document.getElementById('title').style.visibility   = "hidden";

							$(document).ready(function() {
								$('#button_submit').click(function(){

									document.getElementById('column1').style.visibility = "visible";
									document.getElementById('column2').style.visibility = "visible";
									document.getElementById('column3').style.visibility = "visible";
									document.getElementById('title').style.visibility   = "visible";

									var directionsService = new google.maps.DirectionsService();
									var directionsDisplay = new google.maps.DirectionsRenderer();
									var map = new google.maps.Map(
									     document.getElementById('map'), {
										zoom	  : 7,
										mapTypeId : google.maps.MapTypeId.ROADMAP
									     }
									);
									directionsDisplay.setMap(map);
									directionsDisplay.setPanel(document.getElementById('panel'));
									$.get("fun_data.json", function(response) {
										var json             = jQuery.parseJSON(JSON.stringify(response));
										var randomJsonObject = json[Math.floor(Math.random() * json.length)];
										document.getElementById('title'      ).innerHTML = randomJsonObject.title;
										document.getElementById('description').innerHTML = randomJsonObject.description;
											   var request = {
												origin		: $('#input_location').val(), 
												destination	: randomJsonObject.location,
												travelMode	: google.maps.DirectionsTravelMode.TRANSIT
											   }
											   directionsService.route(request, function(response, status) {
												if (status == google.maps.DirectionsStatus.OK) {
													directionsDisplay.setDirections(response);
												}
											   });
									 });

									$('#feature').hide();
								});
							});
						</script>
			<div class="description_div">
				<h1>Fun, fun, fun!</h1>
					<p>Do you want to feel the adrenaline rush through you veins? 
					   Maybe you think that simply exploring a forest by foot "is for suckers" and you want to step up your game? 
					   Donâ€™t worry, here you can generate adventures that are more exhilarating than relaxing.</p>
			</div>

		</body>
</html>
