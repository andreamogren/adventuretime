<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="stylesheet.css">
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<script type="text/javascript" 
               src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCEdu23sATw9F3n0jzTq37poQMKVLrxTYc"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
		<title>Adventure Time</title>
	</head>
	<body>
		<div id="header">
			<img id="logo" src="adventuring.png">
			<div id="nav">
				<ul>
					<li><a href="">Nature</a></li>
					<li><a href="">City</a></li>
					<li><a href="">Far away</a></li>
					<li><a href="">Group</a></li>
					<li><a href="">Kids</a></li>
				</ul>
			</div>
		</div>
			<div id="feature">
				<form name="myform" action="" ="" method="GET">Enter your location in the box<br>
     			<input type="text" name="inputbox" value=""> <br>
     			<input id="button_submit" type="button" name="button" Value="Find my adventure">
      			</form>
				<div id="form-input"></div>
			</div>
		
			<div class="article column1">
				<p id="title"></p>
      			<p id="description"></p>
			</div>
		
			<div class="article column2">
				<div id="panel"></div>
			</div>
			
		<div class="article column3">
			<div id="map"></div>
		</div>

		<script type="text/javascript"> 
			
			$(document).ready(function() {
				$('#button_submit').click(function(){
					var json; // This my shit 420 yall				
					var TestVar 	      = this.value;
					var directionsService = new google.maps.DirectionsService();
					var directionsDisplay = new google.maps.DirectionsRenderer();

					var map = new google.maps.Map(
					     document.getElementById('map'), {
						zoom	  : 7,
						mapTypeId : google.maps.MapTypeId.ROADMAP
					     }
					);

					directionsDisplay.setMap(map);
					directionsDisplay.setPanel(document.getElementById('panel'));

					$.get("test.json", function(response) {

						var json 	= jQuery.parseJSON(JSON.stringify(response));
						var valueToUse  = json[Math.floor(Math.random() * json.length)];

						document.getElementById('title	    ').innerHTML = valueToUse.title;
						document.getElementById('description').innerHTML = valueToUse.description;

							   var request = {
								origin		: TestVar, 
								destination	: valueToUse.location,
								travelMode	: google.maps.DirectionsTravelMode.TRANSIT
							   }

							   directionsService.route(request, function(response, status) {
								if (status == google.maps.DirectionsStatus.OK) {
									directionsDisplay.setDirections(response);
								}
							   });
					 });
				});
			});
			
			
       				



       	</script>
	</body>
</html>
